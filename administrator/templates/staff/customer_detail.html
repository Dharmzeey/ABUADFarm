{% extends 'administrator/base.html' %}
{% load static %}
{% block content %}

<div class="container">
  <div class="mb-24">
    <div>{{ unit_customer }}</div>
    <div>{{ unit_customer }}</div>
    <div>{{ unit_customer }}</div>
  </div>

    <div class="flex">
      <button class="mr-6">
        <a href="{% url 'administrator:add_purchase' %}?q={{ unit_customer.id }}">
          <i class="fa-solid fa-plus px-2"></i> 
          <span class="pr-3"> Add Purchase </span>
        </a>
      </button>

      <button>
        <a href="{% url 'administrator:send_customer_message' %}?q={{ unit_customer.id }}">
          <i class="fa-solid fa-envelope px-2"></i>
          <span class="pr-3"> Send message </span>
        </a>
      </button>
    </div>
    <table class="w-full border-solid border-2 border-black-500 ">
      <caption class="mb-4">
        {{ unit_customer }} recent {{ unit_name }} Purchases
      </caption>
     
      <tr>
        <th>Date</th>
        <th>Item</th>
        <th>Weight (kg)</th>
        <th>Price (&#8358;)</th>
        <th>Note </th>
      </tr>
      {% for good in customer_unit_goods %}
      <tr>
        <td>{{ good.date_ordered|date:"d M Y"}}</td>
        <td>{{ good.item }}</td>
        <td>{{ good.quantity }}</td>
        <td>{{ good.price }}</td>
        <td>
          {% if good.note %}
          <span class="text-blue-800 underline font-bold cursor-pointer" onclick="alert('{{ good.note }}')">{{ good.note|truncatewords:2 }}</span>
          {% else %}
          ---
          {% endif %}
        </td>
      </tr>
      {% endfor %}
      <th>Total</th>
      <td colspan="2"></td>
      <td> &#8358; {{ total }}</td>
    </table>

</div>
{% endblock %}