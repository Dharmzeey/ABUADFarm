{% extends 'administrator/base.html' %}
{% load humanize %}
{% block content %}

<div class="mb-4 text-center flex flex-wrap gap-3 items-start">

  <a href="{% url 'administrator:home' %}" class="btn">Recent</a>

  <a href="{% url 'administrator:home' %}?day=today" class="btn">Today</a>

  <a href="{% url 'administrator:home' %}?day=yesterday" class="btn">Yesterday</a>

  <a href="{% url 'administrator:home' %}?day=last week" class="btn">Last Week</a>

  <a href="" class="btn">Select Date</a>

  <div class="relative">
    <div id="dropdown" class="cursor-pointer">
      <i class="fa-solid fa-filter pr-2"></i>
      Filter Product
      <i class="fa-solid fa-caret-down pl-2"></i>
    </div>

    <div id="product-dropdown" class="scale-dropdown absolute transition ease-in-out delay-200">
      <div class="w-40 py-2 m-auto card text-left leading-10">
        {% for product in products %}
        <a href="{% url 'administrator:home' %}?product={{ product }}{% if day %}&day={{ day }}{% endif %}"
          class="w-full px-4 pl-6 inline-block hover:bg-black hover:text-white">{{ product }}</a>
        {% endfor %}
      </div>
    </div>
  </div>

</div>

<div class="my-4">
  <div>{{day|title}} Sold Goods</div>
  <!-- <div> {{day|title}} Most Sold goods </div>
  <div>Highest generated Goods</div> -->
</div>

<table class="w-full border-solid border-2 border-black-500 ">
  <caption class="mb-4">
    <!-- {{ unit_customer }} recent {{ unit_name }} Purchases -->
    {{day|title}} Sold Good
  </caption>
 
  <tr>
    <th>Customer</th>
    <th>Date</th>
    <th>Item</th>
    <th>Weight (kg)</th>
    <th>Price (&#8358;)</th>
    <th>Note </th>
  </tr>
  {% for good in goods %}
  <tr>
    <td>{{ good.owner }}</td>
    <td>{{ good.date_ordered|date:"D, d M Y"}}</td>
    <td>{{ good.item }}</td>
    <td>{{ good.quantity }}</td>
    <td>{{ good.price }}</td>
    <td>
      {% if good.note %}
      <span class="text-blue-800 underline font-bold cursor-pointer" onclick="alert('{{ good.note }}')">{{ good.note|truncatewords:2 }}</span>
      {% else %}
      ---
      {% endif %}
    </td>
  </tr>
  {% endfor %}
  <th>Total</th>
  <td colspan="3"></td>
  <td> &#8358; {{ total|intcomma }}</td>
</table>


{% endblock %}